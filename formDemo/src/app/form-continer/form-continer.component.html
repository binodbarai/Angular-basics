
<div class="custom-container">

  <div class="border my-5 p-4  bg-dark text-light  border rounded">
    <h1 class="display-6 fw-bold text-center mb-4" >Enter your personal details</h1>
    <form class="row g-3" #myForm="ngForm" (ngSubmit)="onSubmitForm()" >
      <div class="col-6">
        <label for="firstname" class="form-label">First Name</label>
        <input type="text" (blur)="showAlert(inputName.invalid && inputName.touched ? 'Please enter a valid name.' : '')" #inputName="ngModel" name="name" id="name" class="form-control"
        [(ngModel)]="form.name" required>
        <small *ngIf="inputName.invalid && inputName.touched">Please enter a valid name.</small>
      </div>

      <div class="col-6">
        <label for="email" class="form-label ">Email</label>
        <input type="email" (blur)="showAlert(inputEmail.invalid && inputEmail.touched ? 'Please enter a valid email.' : '')" #inputEmail="ngModel" name="email" id="email" class="form-control"
        [(ngModel)]="form.email" required email>
        <small *ngIf="inputEmail.invalid && inputEmail.touched">Please enter a valid email.</small>
      </div>

      
      <div class="col">
        <label for="dob" class="form-label ">Date of Birth</label>
        <input type="date" (blur)="showAlert(inputDOB.invalid && inputDOB.touched ? 'Please enter a valid date of birth.' : '')" #inputDOB="ngModel" (input)="calculateAge()" name="dob" id="dob"
        class="form-control" [(ngModel)]="form.dob" required>
        <small *ngIf="inputDOB.invalid && inputDOB.touched">Please enter a valid date of birth.</small>
      </div>

      <div class="col-6" *ngIf = "form.dob" >
        <label for="age" class="form-label ">Your Age</label>
        <input type="text" [(ngModel)]="form.age" name="lastName" class="form-control" id="age" disabled>
      </div>

      <div class="col-12">
        <label for="inputAddress2" class="form-label ">Phone Number</label>
        <input type="text" maxlength="10" minlength="10" (blur)="showAlert(inputPhone.invalid && inputPhone.touched ? 'Please enter a valid phone number.' : '')" #inputPhone="ngModel" name="phoneNumber" id="phoneNumber" class="form-control"
        [(ngModel)]="form.phoneNumber" (input)="onPhoneInput($event)" required>
        <small *ngIf="inputPhone.invalid && inputPhone.touched">Please enter a valid phone number.</small>
      </div>
     
      <div class="col-12">
        <label for="inputAddress2" class="form-label ">Address</label>
        <input type="text" (blur)="showAlert(inputAddress.invalid && inputAddress.touched ? 'Please enter a valid address.' : '')" #inputAddress="ngModel" name="address" id="address" class="form-control"
        [(ngModel)]="form.address" required>
        <small *ngIf="inputAddress.invalid && inputAddress.touched">Please enter a valid address.</small>
      </div>

      <div class="col-12 d-flex justify-content-center">
        <button type="submit" class="btn btn-success" name="submit" [disabled]="!myForm.valid">Submit</button>
      </div>
    </form>
  </div>

  <table class="table table-hover table-dark">
    <thead>
      <tr>
        <th >S.N.</th>
        <th >Name</th>
        <th >Email</th>
        <th >Age</th>
        <th >Phone Number</th>
        <th >Address</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor = "let details of userDetails; let i = index">
        <td>{{i + 1}}</td>
        <td>{{userDetails[i].name}}</td>
        <td>{{userDetails[i].email}}</td>
        <td>{{userDetails[i].dob}}</td>
        <td>{{userDetails[i].phoneNumber}}</td>
        <td>{{userDetails[i].address}}</td>
      </tr>
    </tbody>

  </table>
</div>

